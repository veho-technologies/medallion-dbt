version: 2

models:
  - name: stg_dynamodb_lugus__orders
    description: Orders info from DynamoDB Lugus Table
    config:
      tags: [nwo, inc]
      materialized: table
      table_type: iceberg
      unique_key: order_id
      on_schema_change: sync_all_columns
      incremental_strategy: merge
      sort: _fivetran_synced
      partition_by: [_fivetran_synced, updated_at]
    columns:
      - name: order_id
        tests:
          - not_null
          - unique
